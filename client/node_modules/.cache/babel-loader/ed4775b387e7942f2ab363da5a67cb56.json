{"ast":null,"code":"import React,{useEffect}from'react';import{useParams,useLocation}from'react-router-dom';import{Typography,CircularProgress,Grid,Divider}from'@material-ui/core';import{useDispatch,useSelector}from'react-redux';import Post from'../Posts/Post/Post';import{getPostsByCreator,getPostsBySearch}from'../../actions/posts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatorOrTag=function CreatorOrTag(){var _useParams=useParams(),name=_useParams.name;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.posts;}),posts=_useSelector.posts,isLoading=_useSelector.isLoading;var location=useLocation();useEffect(function(){if(location.pathname.startsWith('/tags')){dispatch(getPostsBySearch({tags:name}));}else{dispatch(getPostsByCreator(name));}},[]);if(!posts.length&&!isLoading)return'No posts';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",children:name}),/*#__PURE__*/_jsx(Divider,{style:{margin:'20px 0 50px 0'}}),isLoading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"stretch\",spacing:3,children:posts===null||posts===void 0?void 0:posts.map(function(post){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:6,lg:3,children:/*#__PURE__*/_jsx(Post,{post:post})},post._id);})})]});};export default CreatorOrTag;","map":{"version":3,"sources":["/Users/chloeolut/Desktop/webCoursework/client/src/components/CreatorOrTag/CreatorOrTag.jsx"],"names":["React","useEffect","useParams","useLocation","Typography","CircularProgress","Grid","Divider","useDispatch","useSelector","Post","getPostsByCreator","getPostsBySearch","CreatorOrTag","name","dispatch","state","posts","isLoading","location","pathname","startsWith","tags","length","margin","map","post","_id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,OAASC,UAAT,CAAqBC,gBAArB,CAAuCC,IAAvC,CAA6CC,OAA7C,KAA4D,mBAA5D,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,OAASC,iBAAT,CAA4BC,gBAA5B,KAAoD,qBAApD,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,eAAiBX,SAAS,EAA1B,CAAQY,IAAR,YAAQA,IAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,iBAA6BC,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAjB,EAAD,CAAxC,CAAQA,KAAR,cAAQA,KAAR,CAAeC,SAAf,cAAeA,SAAf,CAEA,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAIkB,QAAQ,CAACC,QAAT,CAAkBC,UAAlB,CAA6B,OAA7B,CAAJ,CAA2C,CACzCN,QAAQ,CAACH,gBAAgB,CAAC,CAAEU,IAAI,CAAER,IAAR,CAAD,CAAjB,CAAR,CACD,CAFD,IAEO,CACLC,QAAQ,CAACJ,iBAAiB,CAACG,IAAD,CAAlB,CAAR,CACD,CACF,CANQ,CAMN,EANM,CAAT,CAQA,GAAI,CAACG,KAAK,CAACM,MAAP,EAAiB,CAACL,SAAtB,CAAiC,MAAO,UAAP,CAEjC,mBACE,oCACE,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,UAA0BJ,IAA1B,EADF,cAEE,KAAC,OAAD,EAAS,KAAK,CAAE,CAAEU,MAAM,CAAE,eAAV,CAAhB,EAFF,CAGGN,SAAS,cAAG,KAAC,gBAAD,IAAH,cACR,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,UAAU,CAAC,SAA3B,CAAqC,OAAO,CAAE,CAA9C,UACGD,KADH,SACGA,KADH,iBACGA,KAAK,CAAEQ,GAAP,CAAW,SAACC,IAAD,qBACV,KAAC,IAAD,EAAqB,IAAI,KAAzB,CAA0B,EAAE,CAAE,EAA9B,CAAkC,EAAE,CAAE,EAAtC,CAA0C,EAAE,CAAE,CAA9C,CAAiD,EAAE,CAAE,CAArD,uBACE,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EADF,EAAWA,IAAI,CAACC,GAAhB,CADU,EAAX,CADH,EAJJ,GADF,CAeD,CAhCD,CAkCA,cAAed,CAAAA,YAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { Typography, CircularProgress, Grid, Divider } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Post from '../Posts/Post/Post';\nimport { getPostsByCreator, getPostsBySearch } from '../../actions/posts';\n\nconst CreatorOrTag = () => {\n  const { name } = useParams();\n  const dispatch = useDispatch();\n  const { posts, isLoading } = useSelector((state) => state.posts);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location.pathname.startsWith('/tags')) {\n      dispatch(getPostsBySearch({ tags: name }));\n    } else {\n      dispatch(getPostsByCreator(name));\n    }\n  }, []);\n\n  if (!posts.length && !isLoading) return 'No posts';\n\n  return (\n    <div>\n      <Typography variant=\"h2\">{name}</Typography>\n      <Divider style={{ margin: '20px 0 50px 0' }} />\n      {isLoading ? <CircularProgress /> : (\n        <Grid container alignItems=\"stretch\" spacing={3}>\n          {posts?.map((post) => (\n            <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\n              <Post post={post} />\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </div>\n  );\n};\n\nexport default CreatorOrTag;"]},"metadata":{},"sourceType":"module"}